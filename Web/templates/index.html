<!DOCTYPE html>
<html lang="kr">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>사회적 거리두기+</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <link href="static/img/favicon.png" rel="icon">
  <link href="static/img/apple-touch-icon.png" rel="apple-touch-icon">

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">

  <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="static/vendor/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="static/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="static/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="static/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="static/vendor/aos/aos.css" rel="stylesheet">

  <link href="static/css/style.css" rel="stylesheet">

</head>

<body>

  <header id="header" class="fixed-top header-transparent">
    <div class="container-fluid">

      <div class="row justify-content-center">
        <div class="col-xl-11 d-flex align-items-center">
          <h1 class="logo mr-auto"><a href="index.html">SD+</a></h1>

          <nav class="nav-menu d-none d-lg-block">
            <ul>
              <li class="active"><a href="#">홈</a></li>
              <li><a href="#facts">대시보드</a></li>
              <li><a href="#portfolio">위험 지역</a></li>
              <li><a href="#team">개발자</a></li>
              <li><a href="#contact">문의 및 지원</a></li>

            </ul>
          </nav>
        </div>
      </div>

    </div>
  </header>

  <section id="intro">
    <div class="intro-container">
      <div id="introCarousel" class="carousel  slide carousel-fade" data-ride="carousel">

        <ol class="carousel-indicators"></ol>

        <div class="carousel-inner" role="listbox">

          <div class="carousel-item active" style="background-image: url(static/img/intro-carousel/1.jpg)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">사회적 거리두기+</h2>
                <p class="animate__animated animate__fadeInUp">사회적 거리두기+는 코로나 바이러스의 확산 방지에 기여하기 위한 비영리 프로젝트입니다. </p>
                <a href="#featured-services" class="btn-get-started scrollto animate__animated animate__fadeInUp">시작하기</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" style="background-image: url(static/img/intro-carousel/2.jpg)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">똑똑한 인공지능</h2>
                <p class="animate__animated animate__fadeInUp">프로그램에 내장된 인공지능이 수집한 데이터를 바탕으로 사람 간의 거리를 감지합니다. 딥러닝 모델을 통해, 학습을 거듭할수록 정확도가 상승합니다.</p>
                <a href="#featured-services" class="btn-get-started scrollto animate__animated animate__fadeInUp">시작하기</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" style="background-image: url(static/img/intro-carousel/3.jpg)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">개인정보 보호</h2>
                <p class="animate__animated animate__fadeInUp">개인정보 보호는 모두가 누려야 할 기본적인 권리입니다. 수집한 데이터는 사람 간 거리를 측정하는 것 이외의 목적으로는 일체 사용되지 않으며, 일정 기간이 지난 후 영구적으로 폐기됩니다.</p>
                <a href="#featured-services" class="btn-get-started scrollto animate__animated animate__fadeInUp">시작하기</a>
              </div>
            </div>
          </div>

        <a class="carousel-control-prev" href="#introCarousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon ion-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">이전</span>
        </a>

        <a class="carousel-control-next" href="#introCarousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon ion-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">다음</span>
        </a>

      </div>
    </div>
  </section>

  <main id="main">

    <section id="featured-services">
      <div class="container">
        <div class="row">

        </div>
      </div>
    </section>

    <section id="about">
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>서비스</h3>
          <p>사회적 거리두기+에서 제공하는 서비스 목록입니다.</p>
        </header>

        <div class="row about-cols">

          <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
            <div class="about-col">
              <div class="img">
                <img src="static/img/about-mission.jpg" alt="" class="img-fluid">
                <div class="icon"><i class="ion-volume-high"></i></div>
              </div>
              <h2 class="title"><a href="#">사회적 거리두기 인프라</a></h2>
              <p>
                사회적 거리두기가 잘 지켜지지 않을 경우, 권장하는 행동 수칙을 음성으로 안내합니다.  
              </p>
            </div>
          </div>

          <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
            <div class="about-col">
              <div class="img">
                <img src="static/img/about-plan.jpg" alt="" class="img-fluid">
                <div class="icon"><i class="ion-ios-speedometer"></i></div>
              </div>
              <h2 class="title"><a href="#">웹 대시보드</a></h2>
              <p>
                보건복지부에서 제공하는 코로나 바이러스 감염 정보를 대시보드에 표시하고, 실시간으로 갱신합니다.
              </p>
            </div>
          </div>

          <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
            <div class="about-col">
              <div class="img">
                <img src="static/img/about-vision.jpg" alt="" class="img-fluid">
                <div class="icon"><i class="ion-ios-location"></i></div>
              </div>
              <h2 class="title"><a href="#">위험 지역 정보</a></h2>
              <p>
                사회적 거리두기가 지켜지지 않는 위험 지역을 3단계로 나누어 웹사이트에 안내합니다. 
              </p>
            </div>
          </div>

        </div>

      </div>
    </section>

    <section id="facts">
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>대시보드</h3>
          <p>코로나 바이러스 감염 정보입니다.</p>
        </header>

        <div class="row counters">

          <div class="col-lg-3 col-6 text-center">

            <span data-toggle="counter-up" id="DECIDE_CNT"></p></span>
            <p>누적 확진</p>
          </div>

          <div class="col-lg-3 col-6 text-center">
            <span data-toggle="counter-up" id="CARE_CNT"></p></span>
            <p>치료 중</p>
          </div>

          <div class="col-lg-3 col-6 text-center">
            <span data-toggle="counter-up" id="CLEAR_CNT"></span>
            <p>완치</p>
          </div>

          <div class="col-lg-3 col-6 text-center">
            <span data-toggle="counter-up" id="DEATH_CNT"></span>
            <p>사망</p>
          </div>
        </div>

          <canvas id="myChart"></canvas>
        
      </div>
    </section>

    <section id="portfolio" class="section-bg">
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3 class="section-title">위험 지역</h3>
        </header>

        <div class="row" data-aos="fade-up" data-aos-delay="100"">
      <div class=" col-lg-12">
          <ul id="portfolio-flters">
            <li data-filter="*" class="filter-active">모두</li>
            <li data-filter=".filter-app">주의</li>
            <li data-filter=".filter-card">위험</li>
            <li data-filter=".filter-web">심각</li>
          </ul>
        </div>
      </div>

      <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">

        <div class="col-lg-4 col-md-6 portfolio-item filter-app">
          <div class="portfolio-wrap">
            <figure>
              <img src="static/img/portfolio/location1.jpg" class="img-fluid" alt="">
              <a href="static/img/portfolio/location1.jpg" data-lightbox="portfolio" data-title="App 1" class="link-preview"><i class="ion ion-eye"></i></a>
              <a href="location1.html" class="link-details" title="More Details"><i class="ion ion-android-open"></i></a>
            </figure>

            <div class="portfolio-info">
              <h4><a href="location1.html">지역 1</h4>
              <p>위험 지역</p>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-6 portfolio-item filter-web">
          <div class="portfolio-wrap">
            <figure>
              <img src="static/img/portfolio/location2.jpg" class="img-fluid" alt="">
              <a href="static/img/portfolio/location2.jpg" class="link-preview venobox" data-gall="portfolioGallery" title="Web 3"><i class="ion ion-eye"></i></a>
              <a href="location2.html" class="link-details" title="More Details"><i class="ion ion-android-open"></i></a>
            </figure>

            <div class="portfolio-info">
              <h4><a href="location2.html">지역 2</a></h4>
              <p>위험 지역</p>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-6 portfolio-item filter-card">
          <div class="portfolio-wrap">
            <figure>
              <img src="static/img/portfolio/location3.jpg" class="img-fluid" alt="">
              <a href="static/img/portfolio/location3.jpg" class="link-preview venobox" data-gall="portfolioGallery" title="Card 2"><i class="ion ion-eye"></i></a>
              <a href="location3.html" class="link-details" title="More Details"><i class="ion ion-android-open"></i></a>
            </figure>

            <div class="portfolio-info">
              <h4><a href="location3.html">지역 3</a></h4>
              <p>위험 지역</p>
            </div>
          </div>
        </div>

       

      </div>

      </div>
    </section>

    <section id="testimonials" class="section-bg">
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>개발자</h3>
        </header>

        <div class="owl-carousel testimonials-carousel">

          <div class="testimonial-item">
            <img src="static/img/team-1.jpg" class="testimonial-img" alt="">
            <h3>임현준</h3>
            <h4>Developer</h4>
          </div>

          <div class="testimonial-item">
            <img src="static/img/team-2.jpg" class="testimonial-img" alt="">
            <h3>원준호</h3>
            <h4>Developer</h4>
          </div>

          <div class="testimonial-item">
            <img src="static/img/team-3.jpg" class="testimonial-img" alt="">
            <h3>이동헌</h3>
            <h4>Mentor</h4>
          </div>

          <div class="testimonial-item">
            <img src="static/img/team-4.jpg" class="testimonial-img" alt="">
            <h3>장인섭</h3>
            <h4>Mentor</h4>
          </div>

          </div>

        </div>

      </div>
    </section>

    <section id="contact" class="section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-header">
          <h3>문의 및 지원</h3>
          <p>해결되지 않은 문제가 있나요? 아래 연락처로 문의하세요.</p>
        </div>

        <div class="row contact-info">

          <div class="col-md-4">
            <div class="contact-github">
              <i class="ion-social-github"></i>
              <h3>깃허브</h3>
              <p><a href="github.com/joonhowon">joonhowon</a></p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="contact-phone">
              <i class="ion-ios-telephone"></i>
              <h3>전화</h3>
              <p><a href="tel:+821039025450">+82 010 9039 3599</a></p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="contact-email">
              <i class="ion-ios-email"></i>
              <h3>이메일</h3>
              <p><a href="mailto:info@example.com">joonho.won@icloud.com</a></p>
            </div>
          </div>

        </div>
      </section>

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

  <footer id="footer">

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong>BizPage</strong>. All Rights Reserved
      </div>
      <div class="credits">

        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer>

  </main>

  <script src="static/vendor/jquery/jquery.min.js"></script>
  <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="static/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="static/vendor/counterup/counterup.min.js"></script>
  <script src="static/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="static/vendor/venobox/venobox.min.js"></script>
  <script src="static/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="static/vendor/aos/aos.js"></script>

  <script src="static/js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

  <script text="javascript">
    let today = new Date(); 
    let year = today.getFullYear(); 
    let month = today.getMonth() + 1;  
    let date = today.getDate();  
    var full_day = month + '월 ' + date + '일'; 

    if(month < 10) month = ('0' + month);
    var cal_end = year + '' + month + '' + date; 

    var days_ago = new Date(); 
    days_ago.setDate(days_ago.getDate() - 8); 
    let year1 = days_ago.getFullYear(); 
    let month1 = days_ago.getMonth() + 1;  
    let date1 = days_ago.getDate();  
    var cal_start = year1 + '' + month1 + '' + date1;

    var protocol = (window.location.protocol === 'http:' ? 'http:' : 'https:');
    var servicekey = 'iSvqlYkCNNv85O28OVwMUPLtV7n2fzTzj0S9aLxxi3BYiRBhAjQKdyV7P%2F1iKn%2FNQsOxaLOpoMpTKdN1aAAa5g%3D%3D';
    var startCreateDt = cal_start;
    var endCreateDt = cal_end;
    
    var url = 'http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19InfStateJson?serviceKey=' + servicekey + 
    '&pageNo=1&numOfRows=10&startCreateDt=' + startCreateDt + '&endCreateDt=' + endCreateDt;
    var resurl =  protocol + '//cors-anywhere.herokuapp.com/' + url;
  
    var DECIDE_CNT = new Array();
    var CLEAR_CNT = new Array();
    var CARE_CNT = new Array();
    var DEATH_CNT = new Array();
    var Day_CNT = new Array();

    var ctx = document.getElementById("myChart").getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ["D-6", "D-5", "D-4", "D-3", "D-2", "D-1", "Today"],
            datasets: [{
                label: '일일 확진',
                data: [100, 90, 30, 50, 20, 30, 40],
                backgroundColor: [
                    'rgba(24,210,110, 0.7)'
                ],
                borderColor: [
                    'rgba(24,210,110, 1)'
                ],
                borderWidth: 5
            }]
        },
        options: {
            maintainAspectRatio: true, // default value. false일 경우 포함된 div의 크기에 맞춰서 그려짐.
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            }
        }
    });

    $.ajaxSetup({
      headers: {"Access-Control-Allow-Origin": "*"}
    });

    $.ajax({
    headers: {"Access-Control-Allow-Origin": "*"},
    url: resurl, 
    type: 'GET', 
    dataType: 'XML', 
    timeout: 3000, 
    error: function(){ 
        alert('API 값을 불러오지 못했습니다.');
    },
    success: function(xml){
      $(xml).find('item').each(function(){ 

        DECIDE_CNT.push($(this).find("decideCnt").text()); 
        CLEAR_CNT.push($(this).find("clearCnt").text()); 
        CARE_CNT.push($(this).find("careCnt").text()); 
        DEATH_CNT.push($(this).find("deathCnt").text()); 
      
        document.getElementById('DECIDE_CNT').innerHTML = DECIDE_CNT[0];   //확진자
        document.getElementById('CLEAR_CNT').innerHTML = CLEAR_CNT[0];  //격리해제
        document.getElementById('CARE_CNT').innerHTML = CARE_CNT[0];  // 검사진행
        document.getElementById('DEATH_CNT').innerHTML = DEATH_CNT[0];  //사망자
        });
        for(var i = 0; i < 7; i++) {
          Day_CNT.push(DECIDE_CNT[i] - DECIDE_CNT[i + 1]);
          myChart.data.datasets[0].data[i] = Day_CNT[i];
        }
        myChart.data.labels[6] = full_day;
        myChart.update();
      } 
    });
  </script>
  
</body>

</html>

